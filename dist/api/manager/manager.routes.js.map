{"version":3,"sources":["../../../src/api/manager/manager.routes.js"],"names":["log","require","router","Router","dbmanager","post","req","res","run","body","sql","result","status","json","error","message"],"mappings":"AAAA;;;;;;AAIA;;;;AACA;;;;;;;;AAHA,IAAMA,MAAMC,QAAQ,OAAR,EAAiB,gBAAjB,CAAZ;;AAKA,IAAMC,SAAS,kBAAQC,MAAR,EAAf;AACA,IAAMC,YAAY,uBAAlB;;AAEA;AACAF,OAAOG,IAAP,CAAY,MAAZ;AAAA,uDAAoB,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAGKH,UAAUI,GAAV,CAAcF,IAAIG,IAAJ,CAASC,GAAvB,CAHL;;AAAA;AAGVC,kBAHU;;;AAKhB;AACAX,2BAAeW,MAAf;;AAEA;AACAJ,gBAAIK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEF,cAAF,EAArB;;AATgB;AAAA;;AAAA;AAAA;AAAA;;AAYhB;AACAX;;AAEA;AACAO,gBAAIK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAO,YAAIC,OAAb,EAArB;;AAhBgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAApB;;AAAA;AAAA;AAAA;AAAA;;kBAoBeb,M","file":"manager.routes.js","sourcesContent":["'use strict';\n\nconst log = require('debug')('manager.routes');\n\nimport Manager from './manager';\nimport express from 'express';\n\nconst router = express.Router();\nconst dbmanager = new Manager();\n\n// Async-Await version\nrouter.post('/run', async (req, res) => {\n  try {\n    // run sql command to the db manager\n    const result = await dbmanager.run(req.body.sql);\n\n    // log result\n    log(`result `, result);\n\n    // send result\n    res.status(200).json({ result });\n\n  } catch (err) {\n    // log error\n    log(`run err `, err);\n\n    // send error\n    res.status(200).json({ error: err.message });\n  }\n});\n\nexport default router;\n"]}